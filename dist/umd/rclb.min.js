!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-bootstrap"),require("react-table"),require("react-select")):"function"==typeof define&&define.amd?define(["exports","react","react-bootstrap","react-table","react-select"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).rclb={},e.React,e.reactBootstrap,e.reactTable,e.Select)}(this,(function(e,t,l,a,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=n(t),s=n(r);const c=(e={title:"Loading..."})=>o.default.createElement("div",{className:"flex-container"},o.default.createElement("div",{className:"text-center"},o.default.createElement("div",{className:"bottom-text"},o.default.createElement("div",{className:"lds-dual-ring"})),o.default.createElement("h3",null,e.title&&e.title),o.default.createElement("p",null,e.message&&e.message))),i=(e={title:"Error Loading Component"})=>o.default.createElement("div",{className:"flex-container"},o.default.createElement("div",{className:"text-center"},o.default.createElement("div",{className:"bottom-text"},o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",fill:"currentColor",className:"bi bi-exclamation-triangle error-anim",viewBox:"0 0 16 16"},o.default.createElement("path",{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"}),o.default.createElement("path",{d:"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"}))),o.default.createElement("h3",null,e.title&&e.title),o.default.createElement("p",null,e.message&&e.message),o.default.createElement("p",null))),u={option:e=>({...e,color:"black"})};function d({column:{filterValue:e,preFilteredRows:t,setFilter:l}}){return o.default.createElement(o.default.Fragment,null)}function m({message:e}){return o.default.createElement(l.Tooltip,{id:"character_tooltip"},e)}const f=()=>({});e.AllianceLogo=e=>o.default.createElement(l.Image,{height:e.height&&e.height,width:e.width&&e.width,style:e.style&&e.style,src:`https://images.evetech.net/alliances/${e.alliance_id}/logo?size=${e.size}`}),e.BaseTable=(e,{getRowProps:t=f})=>{const r=o.default.useMemo((()=>({Filter:d})),[]),n=o.default.useMemo((()=>({text:(e,t,l)=>e.filter((e=>t.some((t=>{if(l){let a=e.values[t];return"object"==typeof a&&(a=a.name),e.hasOwnProperty("originalSubRows")&&(a+=e.originalSubRows.reduce(((e,l)=>{return e+" "+(a=l,t.split(".").reduce((function(e,t){return e[t]}),a));var a}),"")),!!a&&a.toLowerCase().includes(l.toLowerCase())}return!0}))))})),[]),{getTableProps:s,getTableBodyProps:u,headerGroups:g,page:p,prepareRow:h,canPreviousPage:E,canNextPage:y,pageOptions:b,pageCount:v,gotoPage:w,nextPage:S,previousPage:P,setPageSize:B,visibleColumns:C,state:{pageIndex:x,pageSize:z}}=a.useTable({columns:e.columns,data:e.data,defaultColumn:r,filterTypes:n,initialState:{pageSize:10,sortBy:[]}},a.useFilters,a.useSortBy,a.useExpanded,a.usePagination);return e.isLoading?o.default.createElement(c,{title:"Loading Data",message:"Please Wait"}):o.default.createElement(o.default.Fragment,null,o.default.createElement(l.Table,{striped:!0},o.default.createElement("thead",{...s()},g.map((e=>o.default.createElement("tr",{...e.getHeaderGroupProps()},e.headers.map((e=>o.default.createElement("th",{...e.getHeaderProps(e.getSortByToggleProps())},e.render("Header"),o.default.createElement("span",{className:"pull-right"},e.canSort?e.isSorted?e.isSortedDesc?o.default.createElement(l.Glyphicon,{glyph:"sort-by-attributes-alt"}):o.default.createElement(l.Glyphicon,{glyph:"sort-by-attributes"}):o.default.createElement(l.Glyphicon,{glyph:"sort"}):""))))))),g.map((e=>o.default.createElement("tr",{...e.getHeaderGroupProps()},e.headers.map((e=>o.default.createElement("th",{...e.getHeaderProps()},o.default.createElement("div",null,e.canFilter?e.render("Filter"):null)))))))),o.default.createElement("tbody",{...u()},"if (props.error) ",o.default.createElement(i,{title:"Error Loading from API",message:"Try Again Later"}),"; } else ",p.map(((e,l)=>{h(e);const a=t(e);return o.default.createElement(o.default.Fragment,null,o.default.createElement("tr",{...e.getRowProps(a)},e.cells.map((e=>o.default.createElement("td",{style:{verticalAlign:"middle"},...e.getCellProps()},e.render("Cell"))))),e.isExpanded&&asyncExpandFunction({row:e,rowProps:a,visibleColumns:C}))})))),o.default.createElement("div",{className:"pagination pull-right"},o.default.createElement(l.ButtonToolbar,null,o.default.createElement(l.ButtonGroup,null,o.default.createElement(l.Button,{bsStyle:"success",onClick:()=>w(0),disabled:!E},o.default.createElement(l.Glyphicon,{glyph:"step-backward"}))," ",o.default.createElement(l.Button,{bsStyle:"success",onClick:()=>P(),disabled:!E},o.default.createElement(l.Glyphicon,{glyph:"triangle-left"}))," ",o.default.createElement(l.Button,{bsStyle:"success",onClick:()=>S(),disabled:!y},o.default.createElement(l.Glyphicon,{glyph:"triangle-right"}))," ",o.default.createElement(l.Button,{bsStyle:"success",onClick:()=>w(v-1),disabled:!y},o.default.createElement(l.Glyphicon,{glyph:"step-forward"}))),o.default.createElement(l.ButtonGroup,null,o.default.createElement(l.Button,{active:!0,bsStyle:"success"},"Page Size:")," ",o.default.createElement(l.SplitButton,{id:"pageSizeDropdown",bsStyle:"success",title:z,onSelect:e=>{B(Number(e))}},[10,50,100,1e6].map((e=>o.default.createElement(l.MenuItem,{id:e,key:e,eventKey:e,value:e},"Show ",e))))))),o.default.createElement("div",{className:"pagination pull-left"},o.default.createElement(l.ButtonGroup,null,o.default.createElement(l.Button,{active:!0,bsStyle:"info"},o.default.createElement(o.default.Fragment,null,b.length>0?o.default.createElement(o.default.Fragment,null,"Page"," ",o.default.createElement("strong",null,x+1," of ",b.length)):o.default.createElement(o.default.Fragment,null,"Page ",o.default.createElement("strong",null,"- of -"))))," ",e.isFetching?o.default.createElement(l.OverlayTrigger,{placement:"bottom",overlay:m({message:"Refreshing Data"})},o.default.createElement(l.Button,{bsStyle:"info"},o.default.createElement(l.Glyphicon,{className:"glyphicon-refresh-animate",glyph:"refresh"}))):o.default.createElement(l.OverlayTrigger,{placement:"bottom",overlay:m({message:"Data Loaded: "+(new Date).toLocaleString()})},o.default.createElement(l.Button,{bsStyle:"info"},o.default.createElement(l.Glyphicon,{glyph:"ok"}))))))},e.CharacterPortrait=e=>o.default.createElement(l.Image,{height:e.height&&e.height,width:e.width&&e.width,style:e.style&&e.style,src:`https://images.evetech.net/characters/${e.character_id}/portrait?size=${e.size}`}),e.CorporationLogo=e=>o.default.createElement(l.Image,{height:e.height&&e.height,width:e.width&&e.width,style:e.style&&e.style,src:`https://images.evetech.net/corporations/${e.corporation_id}/logo?size=${e.size}`}),e.EveWhoButton=function(e){return o.default.createElement(l.Button,{target:"_blank",rel:"noopener noreferrer",alt:"Eve Who",href:`https://evewho.com/character/${e.character_id}/`},o.default.createElement("i",{className:"fas fa-user"}))},e.TypeIcon=e=>o.default.createElement(l.Image,{height:e.height&&e.height,width:e.width&&e.width,style:e.style&&e.style,src:`https://images.evetech.net/types/${e.type_id}/${e.size>64?"render":"icon"}?size=${e.size}`}),e.ZKillButton=function(e){return o.default.createElement(l.Button,{target:"_blank",rel:"noopener noreferrer",alt:"zKillboard",href:`https://zkillboard.com/search/${e.character_name}/`},o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"13.5",width:"15",viewBox:"0 0 32 21"},o.default.createElement("polygon",{points:"1,7 31,7 16,21",style:{fill:"currentColor",stroke:"currentColor",strokeWidth:2}}),o.default.createElement("polygon",{points:"1,2 31,2",style:{fill:"currentColor",stroke:"currentColor",strokeWidth:2}})))},e.selectColumnFilter=function({column:{setFilter:e,filterValue:t,preFilteredRows:l,id:a}}){const r=o.default.useMemo((()=>{const e=new Set;return l?(l.forEach((t=>{null!==t.values[a]&&("object"==typeof t.values[a]?e.add(t.values[a].name):e.add(t.values[a]))})),[...e.values()]):[]}),[a,l]);return o.default.createElement(s.default,{key:t,title:t,onChange:t=>e(t.value),value:{label:t||"All"},defaultValue:{label:"All"},styles:u,options:[{id:-1,value:"",label:"All"}].concat(r.map(((e,t)=>({id:t,value:e,label:e}))))})},e.textColumnFilter=function({column:{filterValue:e,preFilteredRows:t,setFilter:l}}){const a=t.length;return o.default.createElement("input",{className:"form-control",value:e||"",onChange:e=>{l(e.target.value||void 0)},placeholder:`Search ${a} records...`})},Object.defineProperty(e,"__esModule",{value:!0})}));
